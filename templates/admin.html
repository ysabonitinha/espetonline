<!DOCTYPE html>
<html class="light" lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Painel do Administrador - EspetOnline</title>

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;900&display=swap" rel="stylesheet"/>

    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#f27f0d",
                        "background-light": "#f8f7f5",
                        "background-dark": "#221910",
                    },
                    fontFamily: { "display": ["Be Vietnam Pro", "sans-serif"] }
                },
            },
        }
    </script>
</head>

<body class="font-display bg-background-light dark:bg-background-dark">

<div class="min-h-screen flex flex-col">

<!-- HEADER -->
<header class="flex items-center justify-between border-b border-b-[#f4ede7] dark:border-b-primary/20 px-6 py-4">
    <div class="flex items-center gap-3 text-[#1c140d] dark:text-background-light">
        <div class="size-6 text-primary">
            <svg fill="none" viewBox="0 0 48 48">
                <path d="M24 4C25.8 14.2 33.8 22.2 44 24C33.8 25.8 25.8 33.8 24 44C22.2 33.8 14.2 25.8 4 24C14.2 22.2 22.2 14.2 24 4Z"
                      fill="currentColor"/>
            </svg>
        </div>
        <h2 class="text-xl font-bold">EspetOnline — Painel Admin</h2>
    </div>

    <a href="/" class="text-primary font-semibold hover:underline">↩ Voltar</a>
</header>

<!-- MAIN -->
<main class="flex-1 p-6 md:p-10 max-w-4xl mx-auto w-full">

    <h1 class="text-4xl font-black mb-8 text-[#1c140d] dark:text-background-light">Gerenciamento de Usuários</h1>

    <!-- CARD DE CRIAÇÃO DE USUÁRIO -->
    <div class="bg-[#fcfaf8] dark:bg-background-dark dark:border dark:border-primary/20 rounded-xl shadow p-6 mb-10">

        <h2 class="text-2xl font-bold text-[#1c140d] dark:text-background-light mb-4">Criar novo usuário</h2>

        <form method="POST" class="flex flex-col gap-4">

            <select name="tipo" required
                    class="rounded-lg border px-3 py-2 bg-white dark:bg-background-dark dark:border-primary/20">
                <option value="garcom">Garçom</option>
                <option value="cozinheiro">Cozinheiro</option>
            </select>

            <input type="text" name="novo_usuario" placeholder="Nome" required 
                   class="rounded-lg border px-3 py-2 bg-white dark:bg-background-dark dark:border-primary/20">

            <input type="password" name="nova_senha" placeholder="Senha" required
                   class="rounded-lg border px-3 py-2 bg-white dark:bg-background-dark dark:border-primary/20">

            <button type="submit"
                    class="w-full h-10 bg-primary text-white rounded-lg text-sm font-medium hover:opacity-90">
                Criar Usuário
            </button>
        </form>

        {% if erro %}
        <p class="mt-4 text-red-600 dark:text-red-400 font-medium">{{ erro }}</p>
        {% endif %}
        {% if msg %}
        <p class="mt-4 text-green-600 dark:text-green-400 font-medium">{{ msg }}</p>
        {% endif %}
    </div>

    <!-- LISTAS DE USUÁRIOS -->
    <div class="grid md:grid-cols-2 gap-6">

        <!-- GARÇONS -->
        <div class="bg-[#fcfaf8] dark:bg-background-dark dark:border dark:border-primary/20 rounded-xl shadow p-6">
            <h2 class="text-xl font-bold text-[#1c140d] dark:text-background-light mb-3">Garçons cadastrados</h2>
            <ul class="list-disc list-inside space-y-1 text-[#1c140d] dark:text-background-light">
                {% for nome in garcons %}
                    <li>{{ nome }}</li>
                {% else %}
                    <p class="opacity-60">Nenhum garçom cadastrado.</p>
                {% endfor %}
            </ul>
        </div>

        <!-- COZINHEIROS -->
        <div class="bg-[#fcfaf8] dark:bg-background-dark dark:border dark:border-primary/20 rounded-xl shadow p-6">
            <h2 class="text-xl font-bold text-[#1c140d] dark:text-background-light mb-3">Cozinheiros cadastrados</h2>
            <ul class="list-disc list-inside space-y-1 text-[#1c140d] dark:text-background-light">
                {% for nome in cozinheiros %}
                    <li>{{ nome }}</li>
                {% else %}
                    <p class="opacity-60">Nenhum cozinheiro cadastrado.</p>
                {% endfor %}
            </ul>
        </div>

    </div>

</main>

</div>

</body>
</html>
